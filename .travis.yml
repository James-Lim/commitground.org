language: ruby

rvm:
  - 2.4.1

cache: bundler

branches:
  only:
  - white # This designates the branch to serve

before_install: true

install:
  - gem install bundler
  - bundle install

script:
  - jekyll build && htmlproofer ./_site

# before_cache:
after_success:
  - git branch -D gh-pages
  - git checkout -b gh-pages
  - git push origin gh-pages --force
